For some LLaMA-based models, initializing the fast tokenizer may take a long time. To eliminate the initialization time, consider using 'hf-internal-testing/llama-tokenizer' instead of the original tokenizer.
llama-13b: 23.63 GB
peak working mem for (bs=20, seqlen=512): 0.88 GB
peak working mem for (bs=100, seqlen=512): 4.39 GB
all adapters (201) estimated size: 22.90 GB
avg adapter estimated size: 116.67 MB
INFO:     127.0.0.1:60868 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60872 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60876 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60880 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60884 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60888 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60892 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60896 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60900 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60904 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60908 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60912 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60916 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60920 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60924 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60928 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60932 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60936 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60940 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60944 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60948 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60952 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60956 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60960 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60964 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60968 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60972 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60976 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60980 - "POST /generate_stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:60984 - "POST /generate_stream HTTP/1.1" 200 OK
loop_for_netio_req recv_req None 182 <slora.server.sampling_params.SamplingParams object at 0x150bd08c3130> a971d62b61c04d5c81e5525c449419dc
loop_for_netio_req recv_req None 585 <slora.server.sampling_params.SamplingParams object at 0x150bd08c36a0> c79d145196454cf4840f4de286e65545
add new req request_id(n=a971d62b61c04d5c81e5525c449419dc, adapter_dir=None,  rank is 0
add new req request_id(n=c79d145196454cf4840f4de286e65545, adapter_dir=None,  rank is 0
generate_new_batch batch_id=270ad51df6454090bca3d357891ae5d2, req_ids=dict_keys(['a971d62b61c04d5c81e5525c449419dc', 'c79d145196454cf4840f4de286e65545'])
generate_new_batch waiting_req_list []
load 0 adapters, 0 in total
loop_for_netio_req recv_req None 859 <slora.server.sampling_params.SamplingParams object at 0x150bb5b303d0> 1c38163ef38a485c91b6447e86adbb4b
Avg tokens(prompt+generate) throughput:    3.132 tokens/s
Avg prompt tokens throughput:              3.132 tokens/s
Avg generate tokens throughput:            0.000 tokens/s
loop_for_netio_req recv_req None 28 <slora.server.sampling_params.SamplingParams object at 0x150bd089bdf0> f71451209987406da5fe45be7f428fdc
loop_for_netio_req recv_req None 22 <slora.server.sampling_params.SamplingParams object at 0x150bb1bc5430> ff37e50d33f4492bbfc75ceff43e11b1
current batch size: 2 token used ratio: 0.05507142857142857
loop_for_netio_req recv_req None 84 <slora.server.sampling_params.SamplingParams object at 0x150bb5b30340> 7860aaa91eaf4e519bc6af50aa18e307
loop_for_netio_req recv_req None 408 <slora.server.sampling_params.SamplingParams object at 0x150bb5b5e8b0> 63d654a598bc4955ab70b821f12596f5
loop_for_netio_req recv_req None 747 <slora.server.sampling_params.SamplingParams object at 0x150bb5b30400> 7c576176fe034d95adf9d3685b5a22ef
loop_for_netio_req recv_req None 142 <slora.server.sampling_params.SamplingParams object at 0x150bb1bc5a60> f2187a4773b64ae2948bcbfffb170ace
loop_for_netio_req recv_req None 289 <slora.server.sampling_params.SamplingParams object at 0x150bb1bc58e0> 3d6bb16a8fcd49fcba3590875ecdbe61
loop_for_netio_req recv_req None 683 <slora.server.sampling_params.SamplingParams object at 0x150bb5b304c0> 777faf277e1b440ea993f91f932ea574
loop_for_netio_req recv_req None 251 <slora.server.sampling_params.SamplingParams object at 0x150bb5b30280> 8cf78d8347694603b51a9ca978bff45a
loop_for_netio_req recv_req None 1026 <slora.server.sampling_params.SamplingParams object at 0x150bb5b30550> e41f262c0b8840a8859eb4164bd3f15b
loop_for_netio_req recv_req None 43 <slora.server.sampling_params.SamplingParams object at 0x150bb5b306a0> 79fb1acc9eb94fb382fdafb3abdc50b1
loop_for_netio_req recv_req None 459 <slora.server.sampling_params.SamplingParams object at 0x150bb5b304f0> 8f021ec767a4428db73ad2e2f7445288
loop_for_netio_req recv_req None 153 <slora.server.sampling_params.SamplingParams object at 0x150bb5b30520> 96b5b80e98be46c5b5fb196f08feb2d6
loop_for_netio_req recv_req None 400 <slora.server.sampling_params.SamplingParams object at 0x150bb5b30ac0> 7441898194254ad19c9707b2de256787
loop_for_netio_req recv_req None 234 <slora.server.sampling_params.SamplingParams object at 0x150bb5b30370> 718d3e02d822417d9b2e746d9b73c8aa
add new req request_id(n=1c38163ef38a485c91b6447e86adbb4b, adapter_dir=None,  rank is 0
add new req request_id(n=f71451209987406da5fe45be7f428fdc, adapter_dir=None,  rank is 0
add new req request_id(n=ff37e50d33f4492bbfc75ceff43e11b1, adapter_dir=None,  rank is 0
add new req request_id(n=7860aaa91eaf4e519bc6af50aa18e307, adapter_dir=None,  rank is 0
add new req request_id(n=63d654a598bc4955ab70b821f12596f5, adapter_dir=None,  rank is 0
add new req request_id(n=7c576176fe034d95adf9d3685b5a22ef, adapter_dir=None,  rank is 0
add new req request_id(n=f2187a4773b64ae2948bcbfffb170ace, adapter_dir=None,  rank is 0
add new req request_id(n=3d6bb16a8fcd49fcba3590875ecdbe61, adapter_dir=None,  rank is 0
add new req request_id(n=777faf277e1b440ea993f91f932ea574, adapter_dir=None,  rank is 0
add new req request_id(n=8cf78d8347694603b51a9ca978bff45a, adapter_dir=None,  rank is 0
add new req request_id(n=e41f262c0b8840a8859eb4164bd3f15b, adapter_dir=None,  rank is 0
generate_new_batch batch_id=458c2b88bd8541918f8bcec56b83d210, req_ids=dict_keys(['1c38163ef38a485c91b6447e86adbb4b', 'f71451209987406da5fe45be7f428fdc', 'ff37e50d33f4492bbfc75ceff43e11b1', '7860aaa91eaf4e519bc6af50aa18e307', '63d654a598bc4955ab70b821f12596f5', '7c576176fe034d95adf9d3685b5a22ef', 'f2187a4773b64ae2948bcbfffb170ace', '3d6bb16a8fcd49fcba3590875ecdbe61', '777faf277e1b440ea993f91f932ea574', '8cf78d8347694603b51a9ca978bff45a'])
generate_new_batch waiting_req_list [request_id(n=e41f262c0b8840a8859eb4164bd3f15b, adapter_dir=None, , request_id(n=79fb1acc9eb94fb382fdafb3abdc50b1, adapter_dir=None, , request_id(n=8f021ec767a4428db73ad2e2f7445288, adapter_dir=None, , request_id(n=96b5b80e98be46c5b5fb196f08feb2d6, adapter_dir=None, , request_id(n=7441898194254ad19c9707b2de256787, adapter_dir=None, , request_id(n=718d3e02d822417d9b2e746d9b73c8aa, adapter_dir=None, ]
loop_for_netio_req recv_req None 218 <slora.server.sampling_params.SamplingParams object at 0x150bb1bdea90> 3f5c9a1768c347e59616cb5407a45299
load 0 adapters, 0 in total
loop_for_netio_req recv_req None 561 <slora.server.sampling_params.SamplingParams object at 0x150bb1bde6a0> a7b331422cd340bc95608845000d711e
loop_for_netio_req recv_req None 20 <slora.server.sampling_params.SamplingParams object at 0x150bb1be4310> 2c21c240edcf4efc8b97fe111f6010f1
loop_for_netio_req recv_req None 99 <slora.server.sampling_params.SamplingParams object at 0x150bb5b30f10> 4cd9b642589440a7b09b1caee591e4fe
loop_for_netio_req recv_req None 32 <slora.server.sampling_params.SamplingParams object at 0x150bb1be4f10> 3aa71644dd4f46188c1132d7c6e0eea3
loop_for_netio_req recv_req None 49 <slora.server.sampling_params.SamplingParams object at 0x150bb1be4c40> 0e1f5b17cac74a80b769d3cc12619277
loop_for_netio_req recv_req None 188 <slora.server.sampling_params.SamplingParams object at 0x150bb1be4430> 9c944a26f5af4796a17c384e6a0bed03
loop_for_netio_req recv_req None 38 <slora.server.sampling_params.SamplingParams object at 0x150bb1be48e0> bc0112f7d0ce4a71961fdf62f7c83865
loop_for_netio_req recv_req None 774 <slora.server.sampling_params.SamplingParams object at 0x150bb1be49d0> bea988e9239447f3bfa657a51b88dda1
loop_for_netio_req recv_req None 544 <slora.server.sampling_params.SamplingParams object at 0x150bb1be49a0> c038c65239ab41bea9b59ba13df17d79
loop_for_netio_req recv_req None 955 <slora.server.sampling_params.SamplingParams object at 0x150bb1be4f40> bb06ed97ff944f99bf964f0463802bae
loop_for_netio_req recv_req None 387 <slora.server.sampling_params.SamplingParams object at 0x150bb1be4910> 4c074ebf4d8e44bc90bd2e9a653501ce
add new req request_id(n=e41f262c0b8840a8859eb4164bd3f15b, adapter_dir=None,  rank is 0
add new req request_id(n=79fb1acc9eb94fb382fdafb3abdc50b1, adapter_dir=None,  rank is 0
add new req request_id(n=8f021ec767a4428db73ad2e2f7445288, adapter_dir=None,  rank is 0
add new req request_id(n=96b5b80e98be46c5b5fb196f08feb2d6, adapter_dir=None,  rank is 0
add new req request_id(n=7441898194254ad19c9707b2de256787, adapter_dir=None,  rank is 0
add new req request_id(n=718d3e02d822417d9b2e746d9b73c8aa, adapter_dir=None,  rank is 0
add new req request_id(n=3f5c9a1768c347e59616cb5407a45299, adapter_dir=None,  rank is 0
add new req request_id(n=a7b331422cd340bc95608845000d711e, adapter_dir=None,  rank is 0
add new req request_id(n=2c21c240edcf4efc8b97fe111f6010f1, adapter_dir=None,  rank is 0
add new req request_id(n=4cd9b642589440a7b09b1caee591e4fe, adapter_dir=None,  rank is 0
add new req request_id(n=3aa71644dd4f46188c1132d7c6e0eea3, adapter_dir=None,  rank is 0
add new req request_id(n=0e1f5b17cac74a80b769d3cc12619277, adapter_dir=None,  rank is 0
add new req request_id(n=9c944a26f5af4796a17c384e6a0bed03, adapter_dir=None,  rank is 0
add new req request_id(n=bc0112f7d0ce4a71961fdf62f7c83865, adapter_dir=None,  rank is 0
add new req request_id(n=bea988e9239447f3bfa657a51b88dda1, adapter_dir=None,  rank is 0
generate_new_batch GPU 0: General Metrics for NVIDIA GA100 (any frequency)
Generating '/var/tmp/pbs.8665697.pbs101/nsys-report-0d7a.qdstrm'
Generated:
    /scratch/users/nus/e1327875/S-LoRA/benchmarks/a10g_a100_40g_s2_server_full_slora_output_20241111_v1.qdstrm
